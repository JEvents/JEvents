Joomla=window.Joomla||{};!function(document){"use strict";window.jQuery&&function($){function linkedoptions(target,animate){var showfield=true,jsondata=target.data("showon-gsl")||[],itemval,condition,fieldName,$fields;for(var j=0,lj=jsondata.length;j<lj;j++){condition=jsondata[j]||{};fieldName=condition.field;$fields=$('[name="'+fieldName+'"], [name="'+fieldName+'[]"]');condition["valid"]=0;$fields.each(function(){var $field=$(this);if($field.prop("tagName").toLowerCase()=="select"){var x=1}if(["checkbox","radio"].indexOf($field.attr("type"))!==-1){if(!$field.prop("checked")){return}itemval=$field.val()}else{itemval=$field.val();if(itemval==null&&$field.prop("tagName").toLowerCase()=="select"){itemval=[]}}if(typeof itemval=="string"){itemval=[itemval]}else if(typeof itemval!=="object"){itemval=JSON.parse('["'+itemval+'"]')}for(var i in itemval){if(!itemval.propertyIsEnumerable(i)){continue}if(jsondata[j]["sign"]=="="&&jsondata[j]["values"].indexOf(itemval[i])!==-1){jsondata[j]["valid"]=1}if(jsondata[j]["sign"]=="!="&&jsondata[j]["values"].indexOf(itemval[i])===-1){jsondata[j]["valid"]=1}}});if(condition["op"]===""){if(condition["valid"]===0){showfield=false}}else{if(condition["op"]==="AND"&&condition["valid"]+jsondata[j-1]["valid"]<2){showfield=false}if(condition["op"]==="OR"&&condition["valid"]+jsondata[j-1]["valid"]>0){showfield=true}}}if(animate&&!target.is("option")){if(!target[0].classList.contains("gsl-animation-slide-bottom")){}if(showfield){var isGrid=target[0].classList.contains("gsl-grid")||target[0].parentNode.classList.contains("gsl-grid")||target[0].classList.contains("control-group");target[0].style.display=isGrid?"flex":target[0].nodeName.toLowerCase()=="tr"?"table-row":"block"}else{target[0].style.display="none"}}else{if(showfield){var isGrid=target[0].classList.contains("gsl-grid")||target[0].parentNode.classList.contains("gsl-grid")||target[0].classList.contains("control-group");target[0].style.display=isGrid?"flex":target[0].nodeName.toLowerCase()=="tr"?"table-row":"block"}else{target[0].style.display="none"}if(target.is("option")){target.attr("disabled",showfield?false:true);var parent=target.parent();if($("#"+parent.attr("id")+"_chzn").length){parent.trigger("liszt:updated");parent.trigger("chosen:updated")}}}try{var showonChanged=new CustomEvent("gslshowon",{detail:{name:"showonChanged"}});document.dispatchEvent(showonChanged)}catch(e){}}function setUpShowon(container){container=container||document;var $showonFields=$(container).find("[data-showon-gsl]");for(var is=0,ls=$showonFields.length;is<ls;is++){(function(){var $target=$($showonFields[is]),jsondata=$target.data("showon-gsl")||[],field,$fields=$();for(var ij=0,lj=jsondata.length;ij<lj;ij++){field=jsondata[ij]["field"];$fields=$fields.add($('[name="'+field+'"], [name="'+field+'[]"]'))}linkedoptions($target);$fields.on("change",function(){linkedoptions($target,true)})})()}}$(document).ready(function(){window.setTimeout(setUpShowon,100);$(document).on("subform-row-add",function(event,row){var $row=$(row),$elements=$row.find("[data-showon-gsl]"),baseName=$row.data("baseName"),group=$row.data("group"),search=new RegExp("\\["+baseName+"\\]\\["+baseName+"X\\]","g"),replace="["+baseName+"]["+group+"]",$elm,showon;for(var i=0,l=$elements.length;i<l;i++){$elm=$($elements[i]);showon=$elm.attr("data-showon-gsl").replace(search,replace);$elm.attr("data-showon-gsl",showon)}setUpShowon(row)})})}(jQuery)}(document,Joomla);