Joomla=window.Joomla||{};!function(document){"use strict";window.jQuery&&function($){function linkedoptions(target,animate){var showfield=true,jsondata=target.data("showon-gsl")||[],itemval,condition,fieldName,$fields;for(var j=0,lj=jsondata.length;j<lj;j++){condition=jsondata[j]||{};fieldName=condition.field;$fields=$('[name="'+fieldName+'"], [name="'+fieldName+'[]"]');condition["valid"]=0;$fields.each(function(){var $field=$(this);if($field.prop("tagName").toLowerCase()=="select"){var x=1}if(["checkbox","radio"].indexOf($field.attr("type"))!==-1){if(!$field.prop("checked")){return}itemval=$field.val()}else{itemval=$field.val();if(itemval==null&&$field.prop("tagName").toLowerCase()=="select"){itemval=[]}}if(typeof itemval=="string"){itemval=[itemval]}else if(typeof itemval!=="object"){itemval=JSON.parse('["'+itemval+'"]')}for(var i in itemval){if(!itemval.propertyIsEnumerable(i)){continue}if(jsondata[j]["sign"]=="="&&jsondata[j]["values"].indexOf(itemval[i])!==-1){jsondata[j]["valid"]=1}if(jsondata[j]["sign"]=="!="&&jsondata[j]["values"].indexOf(itemval[i])===-1){jsondata[j]["valid"]=1}}});if(condition["op"]===""){if(condition["valid"]===0){showfield=false}}else{if(condition["op"]==="AND"&&condition["valid"]+jsondata[j-1]["valid"]<2){showfield=false}if(condition["op"]==="OR"&&condition["valid"]+jsondata[j-1]["valid"]>0){showfield=true}}}if(animate&&!target.is("option")){if(!target[0].classList.contains("gsl-animation-slide-bottom")){}if(showfield){var isGrid=target[0].classList.contains("gsl-grid")||target[0].parentNode.classList.contains("gsl-grid")||target[0].classList.contains("control-group");target[0].style.display=isGrid?"flex":target[0].nodeName.toLowerCase()=="tr"?"table-row":"block"}else{target[0].style.display="none"}}else{if(showfield){var isGrid=target[0].classList.contains("gsl-grid")||target[0].parentNode.classList.contains("gsl-grid")||target[0].classList.contains("control-group");target[0].style.display=isGrid?"flex":target[0].nodeName.toLowerCase()=="tr"?"table-row":"block"}else{target[0].style.display="none"}if(target.is("option")){target.attr("disabled",showfield?false:true);var parent=target.parent();if($("#"+parent.attr("id")+"_chzn").length){parent.trigger("liszt:updated");parent.trigger("chosen:updated")}}}try{var showonChanged=new CustomEvent("gslshowon",{detail:{name:"showonChanged"}});document.dispatchEvent(showonChanged)}catch(e){}}function setUpShowon(container){container=container||document;var $showonFields=$(container).find("[data-showon-gsl]");for(var is=0,ls=$showonFields.length;is<ls;is++){(function(){var $target=$($showonFields[is]),$jsondata=$target.data("showon-gsl")||[],$field,$fields=$();for(var ij=0,lj=$jsondata.length;ij<lj;ij++){$field=$jsondata[ij]["field"];$fields=$fields.add($('[name="'+$field+'"], [name="'+$field+'[]"]'))}linkedoptions($target);$fields.on("change ",function(){linkedoptions($target,true)})})();if(document.querySelectorAll){let showonFields=container.querySelectorAll("[data-showon-gsl]");let target=showonFields[is];let jsondata=JSON.parse(target.getAttribute("data-showon-gsl"))||[],fields=[];if(typeof jsondata["AND"]!=="undefined"){jsondata=jsondata["AND"]}else if(typeof jsondata["OR"]!=="undefined"){jsondata=jsondata["OR"]}else{jsondata=jsondata}for(let ij=0;ij<jsondata.length;ij++){let field=jsondata[ij]["field"];let namefields=document.querySelectorAll('#jevents [name="'+field+'"], #jevents [name="'+field+'[]"], '+'.jevlocations #config [name="'+field+'"], .jevlocations #config [name="'+field+'[]"]');for(let nf=0;nf<namefields.length;nf++){fields.push(namefields[nf])}}for(let f=0;f<fields.length;f++){let type=fields[f].getAttribute("type");if(type=="text"||type=="radio"||type=="checkbox"){if(fields[f].value.length>0){fields[f].setAttribute("data-keyuplistener",1)}fields[f].addEventListener("keyup",function(event){let keyuplistener=this.getAttribute("data-keyuplistener")||-1;if(keyuplistener>0&&this.value.length==0){keyuplistener=-1}if(keyuplistener==0&&this.value.length>0){keyuplistener=-1}if(keyuplistener>-1){return}this.setAttribute("data-keyuplistener",this.value.length);let changeEvent=document.createEvent("Event");changeEvent.initEvent("change",false,false);this.dispatchEvent(changeEvent)})}}}}}$(document).ready(function(){window.setTimeout(setUpShowon,100);$(document).on("subform-row-add",function(event,row){var $row=$(row),$elements=$row.find("[data-showon-gsl]"),baseName=$row.data("baseName"),group=$row.data("group"),search=new RegExp("\\["+baseName+"\\]\\["+baseName+"X\\]","g"),replace="["+baseName+"]["+group+"]",$elm,showon;for(var i=0,l=$elements.length;i<l;i++){$elm=$($elements[i]);showon=$elm.attr("data-showon-gsl").replace(search,replace);$elm.attr("data-showon-gsl",showon)}setUpShowon(row)})})}(jQuery)}(document,Joomla);